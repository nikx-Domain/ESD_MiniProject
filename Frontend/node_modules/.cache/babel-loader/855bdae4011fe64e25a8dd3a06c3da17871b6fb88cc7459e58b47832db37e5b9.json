{"ast":null,"code":"import axios from \"axios\";\nconst api = axios.create({\n  baseURL: \"http://localhost:8090/api\"\n});\napi.interceptors.request.use(config => {\n  var _config$url, _config$url2, _config$url3;\n  const isAuthRequest = ((_config$url = config.url) === null || _config$url === void 0 ? void 0 : _config$url.includes(\"auth/admin/google\")) || ((_config$url2 = config.url) === null || _config$url2 === void 0 ? void 0 : _config$url2.includes(\"auth/google\")) || ((_config$url3 = config.url) === null || _config$url3 === void 0 ? void 0 : _config$url3.includes(\"auth/login/traditional\"));\n  if (!isAuthRequest) {\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    if (user !== null && user !== void 0 && user.token) {\n      config.headers = config.headers || {};\n      config.headers.Authorization = `Bearer ${user.token}`;\n    }\n  }\n  return config;\n});\nexport const fetchDomains = () => api.get(\"v1/domain\");\nexport const fetchCourseByDomain = domainId => api.get(`v1/byDomain/${domainId}`);\nexport const fetchStudents = courseId => api.get(`courses/${courseId}/students`);\nexport const fetchStudentStats = () => api.get(\"courses/stats\");\nexport const loginWithGoogle = credential => api.post(\"/v1/auth/admin/google\", {\n  credential\n});\nexport const loginWithPassword = (email, password) => api.post(\"v1/auth/login/traditional\", {\n  email,\n  password\n});\nexport default api;","map":{"version":3,"names":["axios","api","create","baseURL","interceptors","request","use","config","_config$url","_config$url2","_config$url3","isAuthRequest","url","includes","user","JSON","parse","localStorage","getItem","token","headers","Authorization","fetchDomains","get","fetchCourseByDomain","domainId","fetchStudents","courseId","fetchStudentStats","loginWithGoogle","credential","post","loginWithPassword","email","password"],"sources":["C:/Users/NIKHIL AGRAWAL/Documents/Repository/ESD/Frontend/src/utils/api.js"],"sourcesContent":["import axios from \"axios\";\n\nconst api = axios.create({\n  baseURL: \"http://localhost:8090/api\",\n});\n\napi.interceptors.request.use((config) => {\n  const isAuthRequest =\n    config.url?.includes(\"auth/admin/google\") ||\n    config.url?.includes(\"auth/google\") ||\n    config.url?.includes(\"auth/login/traditional\");\n\n  if (!isAuthRequest) {\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    if (user?.token) {\n      config.headers = config.headers || {};\n      config.headers.Authorization = `Bearer ${user.token}`;\n    }\n  }\n  return config;\n});\n\nexport const fetchDomains = () =>\n  api.get(\"v1/domain\");\n\nexport const fetchCourseByDomain = (domainId) =>\n  api.get(`v1/byDomain/${domainId}`);\n\nexport const fetchStudents = (courseId) =>\n  api.get(`courses/${courseId}/students`);\n\nexport const fetchStudentStats = () =>\n  api.get(\"courses/stats\");\n\nexport const loginWithGoogle = (credential) =>\n  api.post(\"/v1/auth/admin/google\", { credential });\n\nexport const loginWithPassword = (email, password) =>\n  api.post(\"v1/auth/login/traditional\", { email, password });\n\nexport default api;\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,GAAG,GAAGD,KAAK,CAACE,MAAM,CAAC;EACvBC,OAAO,EAAE;AACX,CAAC,CAAC;AAEFF,GAAG,CAACG,YAAY,CAACC,OAAO,CAACC,GAAG,CAAEC,MAAM,IAAK;EAAA,IAAAC,WAAA,EAAAC,YAAA,EAAAC,YAAA;EACvC,MAAMC,aAAa,GACjB,EAAAH,WAAA,GAAAD,MAAM,CAACK,GAAG,cAAAJ,WAAA,uBAAVA,WAAA,CAAYK,QAAQ,CAAC,mBAAmB,CAAC,OAAAJ,YAAA,GACzCF,MAAM,CAACK,GAAG,cAAAH,YAAA,uBAAVA,YAAA,CAAYI,QAAQ,CAAC,aAAa,CAAC,OAAAH,YAAA,GACnCH,MAAM,CAACK,GAAG,cAAAF,YAAA,uBAAVA,YAAA,CAAYG,QAAQ,CAAC,wBAAwB,CAAC;EAEhD,IAAI,CAACF,aAAa,EAAE;IAClB,MAAMG,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;IACrD,IAAIJ,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAEK,KAAK,EAAE;MACfZ,MAAM,CAACa,OAAO,GAAGb,MAAM,CAACa,OAAO,IAAI,CAAC,CAAC;MACrCb,MAAM,CAACa,OAAO,CAACC,aAAa,GAAG,UAAUP,IAAI,CAACK,KAAK,EAAE;IACvD;EACF;EACA,OAAOZ,MAAM;AACf,CAAC,CAAC;AAEF,OAAO,MAAMe,YAAY,GAAGA,CAAA,KAC1BrB,GAAG,CAACsB,GAAG,CAAC,WAAW,CAAC;AAEtB,OAAO,MAAMC,mBAAmB,GAAIC,QAAQ,IAC1CxB,GAAG,CAACsB,GAAG,CAAC,eAAeE,QAAQ,EAAE,CAAC;AAEpC,OAAO,MAAMC,aAAa,GAAIC,QAAQ,IACpC1B,GAAG,CAACsB,GAAG,CAAC,WAAWI,QAAQ,WAAW,CAAC;AAEzC,OAAO,MAAMC,iBAAiB,GAAGA,CAAA,KAC/B3B,GAAG,CAACsB,GAAG,CAAC,eAAe,CAAC;AAE1B,OAAO,MAAMM,eAAe,GAAIC,UAAU,IACxC7B,GAAG,CAAC8B,IAAI,CAAC,uBAAuB,EAAE;EAAED;AAAW,CAAC,CAAC;AAEnD,OAAO,MAAME,iBAAiB,GAAGA,CAACC,KAAK,EAAEC,QAAQ,KAC/CjC,GAAG,CAAC8B,IAAI,CAAC,2BAA2B,EAAE;EAAEE,KAAK;EAAEC;AAAS,CAAC,CAAC;AAE5D,eAAejC,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}